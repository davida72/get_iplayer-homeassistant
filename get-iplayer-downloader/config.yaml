name: "get_iplayer Downloader"
version: "1.0.0"
slug: get-iplayer-downloader
description: "Download BBC iPlayer shows using get_iplayer, optionally convert with ffmpeg, and save to media folder"
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
init: false
startup: application
boot: manual
options:
  search_command: "get_iplayer --type=tv --channel=CBBC Newsround"
  download_command: "get_iplayer --get {episode_index} --audio-only --output=/downloads --force --overwrite"
  enable_ffmpeg: true
  ffmpeg_command: "ffmpeg -i {input_file} -acodec mp3 -ab 128k {output_file}"
  media_folder: "/media/downloads"
  auto_delete_original: false
schema:
  search_command: str
  download_command: str
  enable_ffmpeg: bool
  ffmpeg_command: str
  media_folder: str
  auto_delete_original: bool
map:
  - media:rw
  - share:rw
